(this["webpackJsonpmesto-on-react"]=this["webpackJsonpmesto-on-react"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(22),i=n.n(s),o=n(9),r=(n(30),n(24)),l=n(5),u=n(2),p=n(3),d=n(25),j=n(0),h=function(e){var t=e.component,n=Object(d.a)(e,["component"]);return Object(j.jsx)(p.b,{children:function(){return n.loggedIn?Object(j.jsx)(t,Object(l.a)({},n)):Object(j.jsx)(p.a,{to:"/signin"})}})},_=n(11);var b=function(e){var t=c.a.useState({email:"",password:""}),n=Object(u.a)(t,2),a=n[0],s=n[1];function i(e){var t=e.target,n=t.name,c=t.value;s(Object(l.a)(Object(l.a)({},a),{},Object(_.a)({},n,c)))}return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("p",{className:"login__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onRegister(a)},className:"login__form",children:[Object(j.jsxs)("fieldset",{className:"login__input-container",children:[Object(j.jsx)("input",{type:"email",className:"login__text login__text_type_email",name:"email",value:a.email,onChange:i,placeholder:"Email",required:!0}),Object(j.jsx)("input",{type:"password",className:"login__text login__text_type_password",name:"password",value:a.password,onChange:i,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0})]}),Object(j.jsx)("button",{className:"login__submit",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(j.jsxs)("p",{className:"login__redirection-text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(j.jsx)(o.b,{to:"/signin",className:"login__link",children:" \u0412\u043e\u0439\u0442\u0438"})]})]})};var m=function(e){var t=c.a.useState({email:e.data.email,password:e.data.password}),n=Object(u.a)(t,2),a=n[0],s=n[1];function i(e){var t=e.target,n=t.name,c=t.value;s(Object(l.a)(Object(l.a)({},a),{},Object(_.a)({},n,c)))}return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("p",{className:"login__title",children:"\u0412\u0445\u043e\u0434"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onLogin(a)},className:"login__form",children:[Object(j.jsxs)("fieldset",{className:"login__input-container",children:[Object(j.jsx)("input",{type:"email",className:"login__text login__text_type_email",name:"email",value:a.email,onChange:i,placeholder:"Email",required:!0}),Object(j.jsx)("input",{type:"password",className:"login__text login__text_type_password",name:"password",value:a.password,onChange:i,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0})]}),Object(j.jsx)("button",{className:"login__submit",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},f=n.p+"static/media/header__logo.bbe2a6ea.svg";var O=function(e){return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("a",{href:"#",className:"header__link",target:"_blank",rel:"noopener",children:Object(j.jsx)("img",{className:"header__logo",src:f,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u041c\u0435\u0441\u0442\u043e.\u0420\u043e\u0441\u0441\u0438\u044f"})}),Object(j.jsxs)(p.d,{children:[Object(j.jsx)(p.b,{exact:!0,path:"/",children:Object(j.jsxs)("div",{className:"header__container",children:[Object(j.jsx)("p",{className:"header__text",children:e.email}),Object(j.jsx)(o.b,{to:"/signin",onClick:e.onClick,className:"header__text header__nav-link",children:"\u0412\u044b\u0439\u0442\u0438"})]})}),Object(j.jsx)(p.b,{path:"/signup",children:Object(j.jsx)(o.b,{to:"/signin",className:"header__text header__nav-link",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(j.jsx)(p.b,{path:"/signin",children:Object(j.jsx)(o.b,{to:"/signup",className:"header__text header__nav-link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(j.jsx)(p.b,{children:e.loggedIn?Object(j.jsx)(p.a,{exact:!0,to:"/"}):Object(j.jsx)(p.a,{to:"/signin"})})]})]})};var x=function(){var e=new Date;return Object(j.jsx)("div",{className:"footer",children:Object(j.jsxs)("p",{className:"footer__copyright",children:["\xa9 ",e.getFullYear()," Mesto Russia"]})})},g=c.a.createContext();var v=function(e){var t=c.a.useContext(g),n=e.owner._id===t._id?"place__trash-button":"place__trash-button place__trash-button_hidden",a=e.likes.some((function(e){return e._id===t._id}))?"place__like-button place__like-button_active":"place__like-button";return Object(j.jsxs)("li",{className:"place",children:[Object(j.jsx)("img",{className:"place__image",src:e.link,alt:e.name,onClick:function(){e.onCardClick(e)}}),Object(j.jsx)("button",{className:n,type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e",onClick:function(){e.onCardDelete(e)}}),Object(j.jsxs)("div",{className:"place__title-container",children:[Object(j.jsx)("h2",{className:"place__title",children:e.name}),Object(j.jsxs)("div",{className:"place__like-container",children:[Object(j.jsx)("button",{className:a,type:"button","aria-label":"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043b\u0430\u0439\u043a",onClick:function(){e.onCardLike(e)}}),Object(j.jsx)("h3",{className:"place__like-counter",children:e.likes.length})]})]})]})};var k=function(e){var t=c.a.useContext(g);return Object(j.jsxs)("main",{children:[Object(j.jsxs)("section",{className:"profile",children:[Object(j.jsxs)("div",{className:"profile__container",children:[Object(j.jsx)("button",{className:"profile__edit-image",type:"button",id:"edit-image","aria-label":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",onClick:e.onEditAvatar,children:Object(j.jsx)("img",{className:"profile__image",src:t.avatar,alt:t.name})}),Object(j.jsxs)("div",{className:"profile__name-container",children:[Object(j.jsx)("h1",{className:"profile__name",children:t.name}),Object(j.jsx)("button",{className:"profile__edit-button",type:"button",id:"edit-button","aria-label":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e \u043e \u0441\u0435\u0431\u0435",onClick:e.onEditProfile})]}),Object(j.jsx)("p",{className:"profile__job",children:t.about})]}),Object(j.jsx)("button",{className:"profile__add-button",type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",onClick:e.onAddPlace})]}),Object(j.jsx)("section",{className:"places",children:Object(j.jsx)("ul",{className:"places__container",children:e.cards.map((function(t){return Object(j.jsx)(v,Object(l.a)(Object(l.a)({},t),{},{onCardClick:e.onCardClick,onCardDelete:e.onCardDelete,onCardLike:e.onCardLike}),t._id)}))})})]})};var N=function(e){return Object(j.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen&&"popup_opened"),children:Object(j.jsxs)("div",{className:"popup__flex-container",children:[Object(j.jsxs)("div",{className:"popup__container",children:[Object(j.jsx)("h2",{className:"popup__title",children:e.title}),Object(j.jsxs)("form",{onSubmit:e.onSubmit,className:"popup__form popup__form_type_".concat(e.name," edit-button-form"),name:"popup__form_type_".concat(e.name),noValidate:!0,children:[Object(j.jsx)("fieldset",{className:"popup__input-container",children:e.children}),Object(j.jsx)("button",{className:"popup__submit",type:"submit",children:e.submit})]})]}),Object(j.jsx)("button",{className:"popup__close-button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e",onClick:e.onClose})]})})};var y=function(e){var t=c.a.useContext(g),n=c.a.useState(""),a=Object(u.a)(n,2),s=a[0],i=a[1],o=c.a.useState(""),r=Object(u.a)(o,2),l=r[0],p=r[1];return c.a.useEffect((function(){void 0!==t.name&&i(t.name),void 0!==t.about&&p(t.about)}),[t,e.isOpen]),Object(j.jsxs)(N,{name:"edit-form",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",onClose:e.onClose,submit:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:e.isOpen,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:s,about:l})},children:[Object(j.jsx)("input",{type:"text",className:"popup__text popup__text_type_name",id:"name-input",name:"userName",value:s,minLength:"2",maxLength:"40",onChange:function(e){i(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error name-input-error",children:"\u0412\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u043b\u0435."}),Object(j.jsx)("input",{type:"text",className:"popup__text popup__text_type_job",id:"status-input",name:"userStatus",value:l,minLength:"2",maxLength:"200",onChange:function(e){p(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error status-input-error",children:"\u0412\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u043b\u0435."})]})};var C=function(e){var t=c.a.useRef();return c.a.useEffect((function(){t.current.value=""}),[e.isOpen]),Object(j.jsxs)(N,{name:"edit-image",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",onClose:e.onClose,submit:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:e.isOpen,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar(t.current.value)},children:[Object(j.jsx)("input",{type:"url",ref:t,className:"popup__text popup__text_type_avatar-url",id:"url-avatar-input",name:"avatar-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u0430\u0432\u0430\u0442\u0430\u0440",required:!0}),Object(j.jsx)("span",{className:"popup__input-error url-avatar-input-error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430."})]})};var S=function(e){var t=c.a.useState(""),n=Object(u.a)(t,2),a=n[0],s=n[1],i=c.a.useState(""),o=Object(u.a)(i,2),r=o[0],l=o[1];return c.a.useEffect((function(){s(""),l("")}),[e.isOpen]),Object(j.jsxs)(N,{name:"add-card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",onClose:e.onClose,submit:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:e.isOpen,onSubmit:function(t){t.preventDefault(),e.onAddPlace({name:a,link:r})},children:[Object(j.jsx)("input",{type:"text",className:"popup__text popup__text_type_place",id:"place-input",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:a,onChange:function(e){s(e.target.value)},minLength:"2",maxLength:"30",required:!0}),Object(j.jsx)("span",{className:"popup__input-error place-input-error",children:"\u0412\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u043b\u0435."}),Object(j.jsx)("input",{type:"url",className:"popup__text popup__text_type_place-url",id:"url-input",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",value:r,onChange:function(e){l(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error url-input-error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430."})]})};var w=function(e){return Object(j.jsx)("div",{className:"popup popup_type_show-image ".concat(e.card&&"popup_opened"),children:Object(j.jsxs)("div",{className:"popup__flex-container",children:[Object(j.jsxs)("figure",{className:"popup__image-container",children:[Object(j.jsx)("img",{className:"popup__image",src:e.card?e.card.link:"",alt:e.card?e.card.name:""}),Object(j.jsx)("figcaption",{className:"popup__caption",children:e.card?e.card.name:""})]}),Object(j.jsx)("button",{className:"popup__close-button",type:"button","aria-label":"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",onClick:e.onClose})]})})},E=n(15),U=n(16),A=new(function(){function e(t){var n=t.baseUrl,a=t.headers;Object(E.a)(this,e),this._baseUrl=n,this._headers=a}return Object(U.a)(e,[{key:"_checkApiRespond",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430! \u0421\u0442\u0430\u0442\u0443\u0441-\u043a\u043e\u0434:".concat(e.status)))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(t){return e._checkApiRespond(t)}))}},{key:"addNewCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._checkApiRespond(e)}))}},{key:"deleteMyCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._checkApiRespond(e)}))}},{key:"getUserData",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(t){return e._checkApiRespond(t)}))}},{key:"editUserData",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._checkApiRespond(e)}))}},{key:"editUserAvatar",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return t._checkApiRespond(e)}))}},{key:"changeLikeCardStatus",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:this._headers}).then((function(e){return n._checkApiRespond(e)}))}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-21",headers:{authorization:"9156915b-5169-4dc0-a8af-5bc1618bd83d","Content-Type":"application/json"}}),L=new(function(){function e(t){Object(E.a)(this,e),this._baseUrl=t,this._headers={Accept:"application/json","Content-Type":"application/json"}}return Object(U.a)(e,[{key:"_checkApiRespond",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430! \u0421\u0442\u0430\u0442\u0443\u0441-\u043a\u043e\u0434:".concat(e.status)))}},{key:"register",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify(e,t)}).then((function(e){return n._checkApiRespond(e)}))}},{key:"login",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/signin"),{method:"POST",headers:this._headers,body:JSON.stringify(e,t)}).then((function(e){return n._checkApiRespond(e)}))}},{key:"checkToken",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:Object(l.a)(Object(l.a)({},this._headers),{},{Authorization:"Bearer ".concat(e)})}).then((function(e){return t._checkApiRespond(e)}))}}]),e}())("https://auth.nomoreparties.co"),D=n.p+"static/media/tooltip-icon_succeed.1b6082f8.svg",P=n.p+"static/media/tooltip-icon_failed.df8eddf6.svg";var R=function(e){return Object(j.jsx)("div",{className:"popup popup_type_info-tooltip ".concat(e.isOpen&&"popup_opened"),children:Object(j.jsxs)("div",{className:"popup__flex-container",children:[Object(j.jsxs)("div",{className:"popup__container",children:[Object(j.jsx)("img",{className:"popup__icon",src:e.isSucceed?D:P,alt:e.title}),Object(j.jsx)("h2",{className:"popup__title popup__title_type_tooltip",children:e.isSucceed?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."})]}),Object(j.jsx)("button",{className:"popup__close-button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e",onClick:e.onClose})]})})};var T=function(){var e=c.a.useState(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],s=c.a.useState(!1),i=Object(u.a)(s,2),o=i[0],d=i[1],_=c.a.useState(!1),f=Object(u.a)(_,2),v=f[0],E=f[1],U=c.a.useState(!1),D=Object(u.a)(U,2),P=D[0],T=D[1],I=c.a.useState(!1),q=Object(u.a)(I,2),J=q[0],F=q[1],M=c.a.useState(!0),B=Object(u.a)(M,2),z=B[0],H=B[1],G=c.a.useState([]),V=Object(u.a)(G,2),Y=V[0],K=V[1],Q=c.a.useState(null),W=Object(u.a)(Q,2),X=W[0],Z=W[1],$=c.a.useState({}),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=c.a.useState(!1),ce=Object(u.a)(ae,2),se=ce[0],ie=ce[1],oe=c.a.useState(null),re=Object(u.a)(oe,2),le=re[0],ue=re[1],pe=c.a.useState({}),de=Object(u.a)(pe,2),je=de[0],he=de[1],_e=Object(p.g)();function be(e){"Escape"===e.key&&me()}function me(){a(!1),d(!1),E(!1),T(!1),F(!1),Z(null),document.removeEventListener("keydown",be)}return c.a.useEffect((function(){A.getUserData().then((function(e){ne(e)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u044e\u0437\u0435\u0440\u0434\u0430\u0442\u0430",e)}))}),[]),c.a.useEffect((function(){A.getInitialCards().then((function(e){K(e)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a",e)}))}),[]),c.a.useEffect((function(){!function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");L.checkToken(e).then((function(e){ue(e.data.email),ie(!0)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",e.message)}))}}()}),[]),c.a.useEffect((function(){se&&_e.push("/")}),[se]),Object(j.jsxs)(g.Provider,{value:te,children:[Object(j.jsx)(O,{loggedIn:se,onClick:function(){localStorage.removeItem("jwt"),ie(!1),_e.push("/login")},email:le}),Object(j.jsxs)(p.d,{children:[Object(j.jsx)(h,{exact:!0,path:"/",loggedIn:se,component:k,cards:Y,onEditProfile:function(){a(!0),document.addEventListener("keydown",be)},onAddPlace:function(){d(!0),document.addEventListener("keydown",be)},onEditAvatar:function(){E(!0),document.addEventListener("keydown",be)},onCardClick:function(e){Z(e),document.addEventListener("keydown",be)},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===te._id}));A.changeLikeCardStatus(e._id,t).then((function(t){K((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))}))},onCardDelete:function(e){A.deleteMyCard(e._id).then((function(){K((function(t){return t.filter((function(t){return t._id!==e._id}))})),me()})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",e)}))}}),Object(j.jsxs)(p.b,{path:"/signup",children:[Object(j.jsx)(b,{onRegister:function(e){return L.register(e).then((function(){F(!0),H(!0),he(e)})).catch((function(e){F(!0),document.addEventListener("keydown",be),H(!1),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",e.message)}))}}),Object(j.jsx)(R,{isSucceed:z,isOpen:J,onClose:function(){me(),z&&_e.push("/signin"),me()}})]}),Object(j.jsx)(p.b,{path:"/signin",children:Object(j.jsx)(m,{onLogin:function(e){return L.login(e).then((function(t){ie(!0),ue(e.email),localStorage.setItem("jwt",t.token)})).then((function(){_e.push("/"),he({})})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435",e.message)}))},data:je})}),Object(j.jsx)(p.b,{children:se?Object(j.jsx)(p.a,{exact:!0,to:"/"}):Object(j.jsx)(p.a,{to:"/signin"})})]}),Object(j.jsx)(y,{isOpen:n,onClose:me,onUpdateUser:function(e){A.editUserData(e).then((function(e){ne(e),me()})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u044e\u0437\u0435\u0440\u0434\u0430\u0442\u0430",e)}))}}),Object(j.jsx)(C,{isOpen:v,onClose:me,onUpdateAvatar:function(e){A.editUserAvatar(e).then((function(){ne(Object(l.a)(Object(l.a)({},te),{},{avatar:e}))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0430\u0432\u0430\u0442\u0430\u0440\u0430",e)})),me()}}),Object(j.jsx)(S,{isOpen:o,onClose:me,onAddPlace:function(e){A.addNewCard(e).then((function(e){K([e].concat(Object(r.a)(Y)))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u043e\u0432\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",e)})),me()}}),Object(j.jsx)(N,{name:"confirm",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",onClose:me,submit:"\u0414\u0430",isOpen:P}),Object(j.jsx)(w,{card:X,onClose:me}),Object(j.jsx)(x,{})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(T,{})})}),document.getElementById("root")),I()}},[[37,1,2]]]);
//# sourceMappingURL=main.dc114c7f.chunk.js.map